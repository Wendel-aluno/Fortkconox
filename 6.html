<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>Barreiras • Fortkconox</title>
  <link rel="stylesheet" href="Css.css">
  <link rel="stylesheet" href="Mobile.css">
  <script src="Js.js" defer></script>
</head>
<body>
  <div class="app-screen">
    <div style="display:flex; align-items:center;">
      <button class="back-btn" onclick="location.href='3.html'">← Voltar</button>
      <h2 style="margin-left:8px">Barreiras / Catracas</h2>
    </div>

    <div class="card-mobile">
      <p class="muted">Controle de entradas, gere códigos temporários e veja o histórico de acessos.</p>

      <div style="display:flex; gap:8px; margin-top:10px;">
        <button id="gateToggle" class="btn-big">Abrir Catraca</button>
        <button id="forceOpen" class="ghost">Forçar Abertura</button>
      </div>

      <div style="margin-top:12px;">
        <label>Fechamento automático (segundos)</label>
        <input id="autoCloseSeconds" type="number" min="0" placeholder="Ex: 10">

        <div style="display:flex; gap:8px; margin-top:8px;">
          <button id="saveAutoClose" class="btn">Salvar</button>
          <button id="clearLog" class="ghost">Limpar Histórico</button>
        </div>
      </div>

      <hr style="margin:14px 0; border-color: rgba(255,255,255,0.04)">

      <div>
        <h4 style="margin:0 0 8px 0">Gerar código temporário</h4>
        <div style="display:flex; gap:8px;">
          <input id="tempCodeDuration" type="number" placeholder="Minutos (ex: 30)" style="flex:1">
          <button id="generateCode" class="btn">Gerar</button>
        </div>
        <p id="lastTempCode" class="small" style="margin-top:8px; color:#bfc9d4">Nenhum código gerado.</p>
      </div>

      <hr style="margin:14px 0; border-color: rgba(255,255,255,0.04)">

      <div>
        <h4 style="margin:0 0 8px 0">Status</h4>
        <p id="gateStatus" class="muted">Catraca: <strong>Fechada</strong></p>
        <p id="autoCloseInfo" class="muted">Fechamento automático: <strong>Desativado</strong></p>
      </div>

      <hr style="margin:14px 0; border-color: rgba(255,255,255,0.04)">

      <div>
        <h4 style="margin:0 0 8px 0">Histórico de Acessos</h4>
        <div id="accessLog" style="max-height:180px; overflow:auto; padding:8px; background:#060606; border-radius:8px;"></div>
      </div>
    </div>
  </div>
</body>
</html>